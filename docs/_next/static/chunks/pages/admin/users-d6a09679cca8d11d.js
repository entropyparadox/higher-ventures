(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[635],{4168:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/users",function(){return t(1800)}])},3430:function(e,n,t){"use strict";t.d(n,{Z:function(){return v}});var a=t(5893),r=t(6383),c=t(1799),s=t(9396),i=t(9534),o=t(603),l=t(1163),u=t(7294),d=t(1423),h=function(e){var n=e.children,t=e.className,r=(0,i.Z)(e,["children","className"]);return(0,a.jsx)("div",(0,s.Z)((0,c.Z)({className:"sidebar ".concat(void 0===t?"":t)},r),{children:n}))},m=function(e){var n=e.children,t=e.className,r=(0,i.Z)(e,["children","className"]);return(0,a.jsx)("div",(0,s.Z)((0,c.Z)({className:"sidebar-menu ".concat(void 0===t?"":t)},r),{children:n}))},f=function(e){var n=e.children,t=e.className,r=e.text,h=e.to,m=e.selected,f=e.onClick,x=(0,i.Z)(e,["children","className","text","to","selected","onClick"]),v=(0,l.useRouter)(),N=v.pathname,g=void 0!==m&&m;h&&N.startsWith(h)&&(g=!0);var j=(0,o.Z)((0,u.useState)(),2),Z=j[0],p=j[1];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",(0,s.Z)((0,c.Z)({className:"sidebar-menu-item flex items-center justify-between ".concat(g||Z?"bg-black text-white":"text-black hover:bg-gray-100 hover:text-gray-900"," ").concat(void 0===t?"":t),onClick:function(e){if(h){v.push(h);return}if(f){f(e);return}p(!Z)}},x),{children:[(0,a.jsx)("div",{children:r}),(0,a.jsx)("div",{children:n&&(0,a.jsx)(d.J.ChevronUp,{className:Z?"":"rotate-180"})})]})),Z&&n]})};h.Title=function(e){var n=e.children,t=e.className,r=(0,i.Z)(e,["children","className"]);return(0,a.jsx)("div",(0,s.Z)((0,c.Z)({className:"sidebar-title ".concat(void 0===t?"":t)},r),{children:n}))},h.Menu=m,m.Item=f,f.Sub=function(e){var n=e.className,t=e.text,r=e.to,o=e.selected,u=e.onClick,d=(0,i.Z)(e,["className","text","to","selected","onClick"]),h=(0,l.useRouter)(),m=h.pathname,f=void 0!==o&&o;return r&&m.startsWith(r)&&(f=!0),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("button",(0,s.Z)((0,c.Z)({className:"sidebar-menu-sub ".concat(f?"bg-gray-200 font-semibold text-black":"text-gray-600 hover:text-gray-900"," ").concat(void 0===n?"":n),onClick:r?function(){return h.push(r)}:u},d),{children:t}))})};var x=t(6816);function v(e){var n=e.children,t=(0,x.aC)().logout;return(0,a.jsxs)("div",{className:"flex h-screen",children:[(0,a.jsxs)(h,{children:[(0,a.jsx)(h.Title,{children:"Admin"}),(0,a.jsxs)(h.Menu,{children:[(0,a.jsx)(h.Menu.Item,{text:"유저리스트",to:"/admin/users"}),(0,a.jsx)(h.Menu.Item,{text:"로그아웃",onClick:t})]})]}),(0,a.jsx)("div",{className:"flex min-w-0 flex-1 flex-col overflow-hidden",children:(0,a.jsx)(r.Z,{children:n})})]})}},1800:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return y}});var a=t(603),r=t(5893),c=t(59),s=t(3430),i=t(1664),o=t.n(i),l=t(7294),u=t(5549),d=t(6383),h=t(1799),m=t(9396),f=t(9534),x=t(6486),v=t(1163),N=t(129),g=function(e){var n=e.children,t=e.className,a=(0,f.Z)(e,["children","className"]);return(0,r.jsx)("div",(0,m.Z)((0,h.Z)({className:"pagination ".concat(t)},a),{children:n}))},j=function(e){var n=e.className,t=e.basePath,a=e.total,c=e.maxPageSetLength,s=void 0===c?7:c,i=(0,f.Z)(e,["className","basePath","total","maxPageSetLength"]),o=(0,v.useRouter)(),l=(0,x.split)(t,"?")[0],u=o.query,d=u.page,g=void 0===d?1:d,j=u.limit,p=void 0===j?100:j,b=Math.ceil(a/+p),w=Math.ceil(+g/s),y=Math.min(b-(w-1)*s,s),k=(w-2)*y+1,C=w*s+1,_=function(e){return(0,N.stringify)((0,m.Z)((0,h.Z)({},o.query),{page:e,limit:p}),{addQueryPrefix:!0,encode:!1})};return(0,r.jsxs)("nav",(0,m.Z)((0,h.Z)({className:"pagination-nav ".concat(n)},i),{children:[(0,r.jsx)(Z,{className:"rounded-l-md",to:"".concat(l).concat(_(k)),disabled:k<1,children:(0,r.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z"})})}),(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Array.from({length:e},function(e,t){return t+n})})(y,(w-1)*s+1).map(function(e){return(0,r.jsx)(Z,{to:"".concat(l).concat(_(e)),selected:e===+g,children:e},e)}),(0,r.jsx)(Z,{className:"rounded-r-md",to:"".concat(l).concat(_(C)),disabled:C>b,children:(0,r.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"})})})]}))},Z=function(e){var n=e.children,t=e.className,a=e.text,c=e.to,s=e.selected,i=e.onClick,o=(0,f.Z)(e,["children","className","text","to","selected","onClick"]),l=(0,v.useRouter)();return(0,r.jsx)("button",(0,m.Z)((0,h.Z)({className:"pagination-nav-button ".concat(s?"z-10 border-indigo-500 bg-indigo-50 text-indigo-600":"z-0 border-gray-300 bg-white text-gray-500 hover:bg-gray-50"," ").concat(t),onClick:c?function(){return l.push(c)}:i},o),{children:null!=a?a:n}))};g.Label=function(e){var n=e.className,t=e.count,a=e.total,c=(0,f.Z)(e,["className","count","total"]);return(0,r.jsxs)("p",(0,m.Z)((0,h.Z)({className:"pagination-label ".concat(n)},c),{children:["Count:",(0,r.jsxs)("span",{className:"font-medium",children:[" ",t," "]}),"/ Total:",(0,r.jsxs)("span",{className:"font-medium",children:[" ",a," "]})]}))},g.Nav=j,j.Button=Z;var p=function(e){var n=e.children,t=e.className,a=(0,f.Z)(e,["children","className"]);return(0,r.jsx)("div",{className:"flex flex-col overflow-x-auto",children:(0,r.jsx)("table",(0,m.Z)((0,h.Z)({className:"table ".concat(void 0===t?"":t)},a),{children:n}))})};p.Head=function(e){var n=e.children,t=e.className,a=(0,f.Z)(e,["children","className"]);return(0,r.jsx)("thead",(0,m.Z)((0,h.Z)({className:"table-head ".concat(void 0===t?"":t)},a),{children:n}))},p.Body=function(e){var n=e.children,t=e.className,a=(0,f.Z)(e,["children","className"]);return(0,r.jsx)("tbody",(0,m.Z)((0,h.Z)({className:"table-body ".concat(void 0===t?"":t)},a),{children:n}))},p.Row=function(e){var n=e.children,t=e.className,a=(0,f.Z)(e,["children","className"]);return(0,r.jsx)("tr",(0,m.Z)((0,h.Z)({className:"".concat(void 0===t?"":t)},a),{children:n}))},p.Th=function(e){var n=e.children,t=e.className,a=(0,f.Z)(e,["children","className"]);return(0,r.jsx)("th",(0,m.Z)((0,h.Z)({className:"table-th ".concat(void 0===t?"":t)},a),{children:n}))},p.Td=function(e){var n=e.children,t=e.className,a=(0,f.Z)(e,["children","className"]);return(0,r.jsx)("th",(0,m.Z)((0,h.Z)({className:"table-td ".concat(void 0===t?"":t)},a),{children:n}))};var b=t(6816),w=t(7882);function y(){var e=(0,a.Z)((0,l.useState)("ALL"),2),n=e[0];e[1];var t=(0,b.Nc)({filter:{role:"ALL"===n?void 0:n}}),s=(0,c.a)(["/admin/users".concat(t)],w._,{keepPreviousData:!0}).data;return(console.log("data: ",s),s)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{children:"Users"}),(0,r.jsxs)(u.X,{children:[(0,r.jsxs)(p,{children:[(0,r.jsx)(p.Head,{children:(0,r.jsxs)(p.Row,{children:[(0,r.jsx)(p.Th,{children:"name"}),(0,r.jsx)(p.Th,{children:"email"}),(0,r.jsx)(p.Th,{})]})}),(0,r.jsx)(p.Body,{children:s.items.map(function(e){return(0,r.jsxs)(p.Row,{children:[(0,r.jsx)(p.Td,{children:e.name}),(0,r.jsx)(p.Td,{children:e.email}),(0,r.jsx)(p.Td,{className:"text-right",children:(0,r.jsx)(o(),{className:"font-normal text-indigo-600 hover:text-indigo-900",href:"/admin/users/".concat(e.id),children:"Details"})})]},e.id)})})]}),(0,r.jsxs)(g,{children:[(0,r.jsx)(g.Label,{count:(null==s?void 0:s.pagination.currentItemCount)||0,total:(null==s?void 0:s.pagination.totalItemCount)||0}),(0,r.jsx)(g.Nav,{basePath:window.location.pathname,total:(null==s?void 0:s.pagination.totalItemCount)||0})]})]})]}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(d.Z,{children:"Users"})})}y.getLayout=function(e){return(0,r.jsx)(s.Z,{children:e})}},5549:function(e,n,t){"use strict";t.d(n,{X:function(){return i}});var a=t(1799),r=t(9396),c=t(9534),s=t(5893),i=function(e){var n=e.children,t=e.className,i=(0,c.Z)(e,["children","className"]);return(0,s.jsx)("div",(0,r.Z)((0,a.Z)({className:"card ".concat(void 0===t?"":t)},i),{children:n}))}},6383:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});var a=t(5893);function r(e){var n=e.children;return(0,a.jsx)("main",{className:"relative flex flex-1 flex-col space-y-4 overflow-y-auto",children:n})}},6816:function(e,n,t){"use strict";t.d(n,{Nc:function(){return u},aC:function(){return l}});var a=t(1799),r=t(603);t(6486);var c=t(1163),s=t(129);t(7294);var i=t(1115),o=t(6610),l=function(){var e=(0,r.Z)(o.J1.use(),2),n=e[0],t=e[1];return{token:n,authenticated:null!==n,signup:function(e){return i.h.post("/auth/signup",e).then(function(e){return t(e.data.token)})},login:function(e){return i.h.post("/auth/login",e).then(function(e){return t(e.data.token)})},logout:function(){return o.J1.reset()}}};function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,c.useRouter)().query,t=(0,a.Z)({page:"1",limit:"10",sort:{id:"DESC"}},n,e);return(0,s.stringify)(t,{addQueryPrefix:!0,encode:!1})}},1115:function(e,n,t){"use strict";t.d(n,{h:function(){return i}});var a=t(9669),r=t.n(a),c=t(6610),s=t(4155),i=r().create({baseURL:s.env.NEXT_PUBLIC_API_URL});i.interceptors.request.use(function(e){var n=c.J1.get();return n?e.headers.Authorization="Bearer ".concat(n):delete e.headers.Authorization,e}),i.interceptors.response.use(void 0,function(e){return 401===e.response.status&&c.J1.reset(),Promise.reject(e)})},7882:function(e,n,t){"use strict";t.d(n,{_:function(){return r}});var a=t(1115);function r(e){var n=e.queryKey;return a.h.get(n[0]).then(function(e){return e.data})}},6610:function(e,n,t){"use strict";t.d(n,{J1:function(){return u}});var a,r,c,s,i=t(7568),o=t(655),l=t(1317),u=(0,l.q)(null,{onSet:(a=(0,i.Z)(function(e){return(0,o.__generator)(this,function(n){return e?localStorage.setItem("token",e):localStorage.removeItem("token"),[2]})}),function(e){return a.apply(this,arguments)})}),d=(0,l.q)(null,{onSet:(r=(0,i.Z)(function(e){return(0,o.__generator)(this,function(n){return e?localStorage.setItem("adminToken",e):localStorage.removeItem("adminToken"),[2]})}),function(e){return r.apply(this,arguments)})});(0,l.q)(""),(0,l.q)(!1),c=localStorage.getItem("token"),s=localStorage.getItem("adminToken"),u.set(c),d.set(s)},4654:function(){}},function(e){e.O(0,[662,240,755,59,664,423,774,888,179],function(){return e(e.s=4168)}),_N_E=e.O()}]);